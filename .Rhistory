(sqrt %o% `-`)(1, 8)
(sqrt %o% `+`)(1, 8)
(sqrt cm::%o% `+`)(1, 8)
(sqrt cm::%o% `+`)(1, 8)
(sqrt %o% `+`)(1, 8)
help(%o%)
help("%o%")
sapply(mtcars, length %o% unique)
"%o%" <- pryr::compose
%o%
"%o%"
"%o%" <- pryr::compose
(sqrt %o% `+`)(1, 8)
(sqrt %o% `+`)(1, 8)
library(cm)
(sqrt %o% `+`)(1, 8)
(sqrt %o% `+`)(1, 8)
(sqrt %o% `+`)(1, 8)
(sqrt %o% `+`)(1, 8)
(sqrt %o% `+`)(1, 20)
rm(list = ls())
require(cm)
(sqrt %o% `+`)(1, 20)
pryr::compose
class(pryr::compose)
library(cm)
(sqrt %o% `+`)(1, 20)
(sqrt %o% `+`)(1, 20)
(sqrt %o% `+`)(1, 20)
library(cm)
library(cm)
(sqrt %o% `+`)(1, 20)
(sqrt %o% `+`)(1, 20)
(sqrt %o% `+`)(1, 20)
(sqrt %o% `+`)(1, 20)
(sqrt %o% `+`)(1, 20)
(sqrt %o% `+`)(1, 20)
(sqrt %o% `+`)(1, 20)
(sqrt %o% `+`)(1, 20)
help("%$%")
require(devtools)
require(roxygen2)
library(cm)
'a'%+%'b'
library(cm)
'a'%+%'b'
'a'%+%'b'
square(2)
library(cm)
'a'%+%'b'
library(cm)
square(3)
sqaure
square
'%+%'
'%+%' <- function(a, b){
paste0(a, b)
}
'a'%+%'b'
library(cm)
library(cm)
library(cm)
library(cm)
remove.packages(cm)
remove.packages("cm")
install_github("mucun1988\\cm")
install_github("mucun1988\cm")
install_github("mucun1988/cm")
install_github("mucun1988/cm")
install_github("mucun1988/cm")
require(devtools)
install_github("mucun1988/cm")
a%+%b
require(cm)
a%+%b
'a'%+%'b'
require(cm)
'a'%+%'b'
'%+%'
`+`
require(cm)
cm::hello
cm::hello()
hello()
'a' %+% 'b'
library(cm)
'a' %+% 'b'
'a'%+%'b'
source('~/GitHub/cm/R/routine.R', echo=TRUE)
library(cm)
'a'%+%'b'
#' Concatenate two strings
#'
#' @param a: string in front
#' @param b: string in back
#' @return concatenate string
#' @export
`%+%` <- function(a, b){
paste0(a, b)
}
#' Concatenate two strings
#'
#' @param a: string in front
#' @param b: string in back
#' @return concatenate string
#' @export
`%+%` <- function(a, b)  paste0(a, b)
remove.packages('cm')
require(devtools)
install_github('cm')
install_github('mucun1988\cm')
install_github('mucun1988/cm')
require(devtools)
install_github('mucun1988/cm')
'a'%+%'b'
'a'%+%'b'
require(cm)
'a'%+%'b'
remove.packages("cm", lib="~/R/win-library/3.3")
remove.packages("cm", lib="C:/Program Files/R/R-3.3.1/library")
install_github('mucun1988/cm')
install_github('mucun1988/cm')
with_libpaths(new = "C:/Program Files/R/R-3.3.1/library", install_github('rCharts', 'ramnathv'))
with_libpaths(new = "C:/Program Files/R/R-3.3.1/library", install_github('mucun1988/cm'))
with_libpaths(new = "C:/Program Files/R/R-3.3.1/library", install_github('mucun1988/cm'))
.libPaths()
with_libpaths(new = "C:/Program Files/R/R-3.3.1/library", install_github('mucun1988/cm'))
#' Concatenate two strings
#'
#' @param a: string in front
#' @param b: string in back
#' @return concatenate string
#' @export
`%+%` <- function(a, b)  paste0(a, b)
'a'%+%'b'
library(cm)
'a'%+%'b'
'a'%+%'b'
'a'%+%'b'
'a'%+%'b'
remove.packages('cm')
remove.packages("cm", lib="C:/Program Files/R/R-3.3.1/library")
require(roxygen2)
require(devtools)
library(cm)
'a'%+%'b'
remove.packages("cm", lib="C:/Program Files/R/R-3.3.1/library")
'a'%+%'b'
require(cm)
remove.packages("cm", lib="~/R/win-library/3.3")
`%+%` <- function(a, b)  paste0(a, b)
#' Concatenate two strings
#'
#' @param a: string in front
#' @param b: string in back
#' @return concatenate string
#' @export
square <- function(x)  return(x^2)
square(2)
library(cm)
remove.packages("cm", lib="~/R/win-library/3.3")
library(cm)
library(cm)
square(3)
library(cm)
library("devtools")
library("roxygen2")
library(cm)
install.packages(fasttime)
install.packages("fasttime")
fasttime::fastPOSIXct
?fastPOSIXct
fastPOSIXctWrapper <- function(x, from = NULL, ...){
return(fasttime::fastPOSIXct(x, ...))
}
fastPOSIXctWrapper("2017-04-29 20:26:11")
fastPOSIXctWrapper("2017-04-29 20:26:11")
fastPOSIXctWrapper <- function(x, from = NULL, tz = NULL, required.components = 3L){
return(fasttime::fastPOSIXct(x, tz = NULL, required.components = 3L))
}
fastPOSIXctWrapper("2017-04-29 20:26:11")
require(yg)
install.packages("â€˜magrittr")
install.packages("magrittr")
require("magrittr")
Sys.timezone()
fastPOSIXctWrapper <- function(x, from_tz = NULL, to_tz = NULL, required.components = 3L){
sys_tz <- Sys.timezone()
xx <- Sys.time()
xx <- Sys.time()
yy <- as.character(as.POSIXlt(xx, tz = "UTC"))%>%
substr(1, 19)%>%
as.POSIXct(tz = from_tz)
tdff <- round(as.numeric(yy - xx))*60*60  # seconds
return(fasttime::fastPOSIXct(x, tz = to_tz, required.components = 3L) + tdff)
}
fastPOSIXctWrapper("2017-04-29 20:26:11", from_tz = 'UTC', to_tz = "America/New_York")
fastPOSIXctWrapper("2017-04-29 20:26:11", from_tz = "America/New_York", to_tz = "UTC")
fastPOSIXctWrapper("2017-04-29 20:26:11", from_tz = "America/New_York", to_tz = "GMT")
fastPOSIXctWrapper("2017-04-29 20:26:11", from_tz = "America/New_York", to_tz = "UTC")
fastPOSIXctWrapper <- function(x, from_tz = NULL, to_tz = NULL, required.components = 3L){
xx <- Sys.time()
yy <- as.character(as.POSIXlt(xx, tz = "UTC"))%>%
substr(1, 19)%>%
as.POSIXct(tz = from_tz)
tdff <- round(as.numeric(yy - xx)/.5)*.5*60*60  # seconds
return(fasttime::fastPOSIXct(x, tz = to_tz, required.components = 3L) + tdff)
}
fastPOSIXctWrapper("2017-04-29 20:26:11", from_tz = "America/New_York", to_tz = "UTC")
devtools::use_package("dplyr")
devtools::use_package("magrittr")
devtools::use_package("magrittr")
require(magrittr)
library(cm)
library(cm)
library(cm)
fastPOSIXctWrapper("2017-04-29 20:26:11", from_tz = "America/New_York", to_tz = "Asia/Singapore")
library(cm)
cm
remove.packages("cm", lib="C:/Program Files/R/R-3.3.1/library")
remove.packages("cm", lib="~/R/win-library/3.3")
remove.packages("cm", lib="C:/Program Files/R/R-3.3.1/library")
library(cm)
require("roxygen2")
library(cm)
library(cm)
library(cm)
require(devtools)
require(roxygen2)
library(cm)
library(cm)
setwd('C:\Users\matthew.mu\Documents\GitHub\dmd_frcstr')
setwd('C:\\Users\\matthew.mu\\Documents\\GitHub\\dmd_frcstr')
require(devtools)
require(roxygen2)
library(cm)
where(function(x) x>0, -2:2)
where(function(x) x>0, -2:2)
X = data.table(x = c(1,2))
require(data.table)
X = data.table(x = c(1,2))
Y = data.table(x = c('a', 'b'))
CJ.dt <- function(X, Y) {
stopifnot(is.data.table(X), is.data.table(Y))
k = NULL
X = X[, c(k = 1L, .SD)]
setkey(X, k)
Y = Y[, c(k = 1L, .SD)]
setkey(Y, NULL)
return( X[Y, allow.cartesian=TRUE][, k := NULL][] )
}
CJ.dt(X,Y)
Y = data.table(y = c('a', 'b'))
CJ.dt(X,Y)
X = X[, c(k = 1L, .SD)]
setkey(X, k)
X
key(x)
key(X
)
Y = Y[, c(k = 1L, .SD)]
setkey(Y, NULL)
key(Y)
Y
X
X[Y, allow.cartesian=TRUE][, k := NULL]
X[Y, allow.cartesian=TRUE][, k := NULL][]
X[Y, allow.cartesian=TRUE][, k := NULL][]
X[Y, allow.cartesian=TRUE][, k := NULL][]
X[Y, allow.cartesian=TRUE][, k := NULL]
X[Y, allow.cartesian=TRUE][, k := NULL]
#' CJ.dt CJ on data.table
#'
#' @export
CJ.dt <- function(X, Y) {
stopifnot(is.data.table(X), is.data.table(Y))
X = X[, c(k = 1L, .SD)]%>%
setkey(k)
Y = Y[, c(k = 1L, .SD)]%>%
setkey(NULL)
return( X[Y, allow.cartesian=TRUE][, k := NULL][] )
}
CJ.dt(X,Y)
library(cm)
CJ.dt(X,Y)
CJ.dt(X,Y)
library(cm)
library(cm)
CJ.dt(X,Y)
CJ.dt <- function(X, Y) {
stopifnot(is.data.table(X), is.data.table(Y))
k = NULL
X = X[, c(k = 1L, .SD)]%>%
setkey(k)
Y = Y[, c(k = 1L, .SD)]%>%
setkey(NULL)
return( X[Y, allow.cartesian=TRUE][, k := NULL][] )
}
CJ.dt(X,Y)
X
Y
CJ.dt(data.table(X = 1:2), data.table(Y = c('a','b'))
CJ.dt(data.table(X = 1:2), data.table(Y = c('a','b')))
library(cm)
library(cm)
sample
sample.dt <- function(X, nrow = 1){
return(X[sample(.N, nrow)])
}
X <- data.table(X = 1:2, Y = c('a','b'))
require(data.table)
X <- data.table(X = 1:2, Y = c('a','b'))
X
sample.dt(X,1)
sample.dt(X,2)
sample.dt(X,2)
sample.dt(X,2)
sample.dt(X,2)
sample.dt(X,2)
sample.dt(X,2)
help(sample)
library(cm)
letters[1:10]
data.table(num = 1:10, lett = letters[1:10], Lett = LETTERS[1:10]
)
sample.dt(data.table(num = 1:10, lett = letters[1:10], Lett = LETTERS[1:10])
sample.dt(data.table(num = 1:10, lett = letters[1:10], Lett = LETTERS[1:10]))
sample.dt(data.table(num = 1:10, lett = letters[1:10], Lett = LETTERS[1:10]))
sample.dt(data.table(num = 1:10, lett = letters[1:10], Lett = LETTERS[1:10]))
sample.dt(data.table(num = 1:10, lett = letters[1:10], Lett = LETTERS[1:10]))
sample.dt(data.table(num = 1:10, lett = letters[1:10], Lett = LETTERS[1:10]))
sample.dt(data.table(num = 1:10, lett = letters[1:10], Lett = LETTERS[1:10]))
library(cm)
devtools:use_rcpp()
devtools::use_rcpp()
library(cm)
timesTwo(10)
library(cm)
requier(roxygen2)
require(roxygen2)
library(cm)
cm::timesTwo(5:L)
cm::timesTwo(5L)
cm::timesTwo(5L)
timesTwo(5L)
timesTwo(3)
timesTwo(3)
library(cm)
library(cm)
timesTwo(3)
library(cm)
timesTwo(4)
library(cm)
library(cm)
timesTwo(4)
library(cm)
cm::timesTwo(1)
library(cm)
library(cm)
cm::timesTwo(2)
library(cm)
cm::timesTwo(2)
library(cm)
cm::timesTwo(2)
library(cm)
cm::timesTwo(2)
library(cm)
cm::timesTwo(2)
library(cm)
cm::timesTwo(2)
library(cm)
cm::timesTwo(2)
library(cm)
cm::timesTwo(2)
cm::timesTwo(2)
library(cm)
cm::square(3)
library(cm)
cm::square(3)
cm::timesTwo(3)
library(cm)
library(cm)
require(gbp)
devtools::install_github('gyang274/gbp')
install.packages("gbp")
browseVignettes('gbp')
library(gbp)
it <- data.table::data.table(
oid = c(1428571L, 1428571L, 1428571L, 1428572L, 1428572L, 1428572L, 1428572L, 1428572L),
sku = c("A0A0A0", "A0A0A1", "A0A0A1", "A0A0A0", "A0A0A1", "A0A0A1", "A0A0A2", "A0A0A3"),
l   = c(2.140000, 7.240000, 7.240000, 2.140000, 7.240000, 7.240000, 6.000000, 4.000000),
d   = c(3.580000, 7.240000, 7.240000, 3.580000, 7.240000, 7.240000, 6.000000, 4.000000),
h   = c(4.760000, 2.580000, 2.580000, 4.760000, 2.580000, 2.580000, 6.000000, 4.000000),
w   = c(243.0000, 110.0000, 110.0000, 243.0000, 110.0000, 110.0000, 235.0000, 258.0000)
)
it
knitr::kable(it)
bn <- data.table::data.table(
id = c("K0001", "K0002", "K0003", "K0004", "K0005"),
l  = c(06.0000, 10.0000, 09.0000, 10.0000, 22.0000),
d  = c(06.0000, 08.0000, 08.0000, 10.0000, 14.0000),
h  = c(06.0000, 06.0000, 07.0000, 10.0000, 09.0000),
w  = c(600.000, 600.000, 800.000, 800.000, 800.000)
)
knitr::kable(bn)
sn <- gbp::bpp_solver(it = it, bn = bn)
sn$it
sn$bn
sn$it
sn$bn
sn$it
bpp_viewer(sn)
bpp_viewer(sn)
runExample("11_timer")
require(shinyApp)
runExample("11_timer")
require(shiny)
runExample("11_timer")
runExample("11_timer")
map_one_step <- data.table(retired_id = c('A','B','C', 'E'), active_id = c('B','C','D','F'))
require(data.table)
map_one_step <- data.table(retired_id = c('A','B','C', 'E'), active_id = c('B','C','D','F'))
map_one_step
xx <- map_one_step[retired_id != active_id]
map_n_step <- xx[, .(from = retired_id, to_p = 'ZzZzZzZ', to = active_id)]
map_n_step[, done:=ifelse(to == to_p, 1, 0)]
ratio <- map_n_step[, sum(done)]/dim(map_n_step)[1]
ratio_p <- -1
while(ratio < 1){
map_n_step[, to_p := to]
map_n_step[done == 0, to:=mapvalues(map_n_step[done==0, to], from = xx$retired_id, to = xx$active_id,
warn_missing = FALSE)]
map_n_step[, done:=ifelse(to == to_p, 1, 0)]
ratio <- map_n_step[, sum(done)]/dim(map_n_step)[1]
message('the ratio is ', ratio, '\n')
if(ratio_p == ratio) {
message('cycles might exist in the directed graph, \n')
break;
}
ratio_p <- ratio
}
xx <- map_one_step[retired_id != active_id]
map_n_step <- xx[, .(from = retired_id, to_p = 'ZzZzZzZ', to = active_id)]
map_n_step[, done:=ifelse(to == to_p, 1, 0)]
ratio <- map_n_step[, sum(done)]/dim(map_n_step)[1]
ratio_p <- -1
while(ratio < 1){
map_n_step[, to_p := to]
map_n_step[done == 0, to:=plyr::mapvalues(map_n_step[done==0, to], from = xx$retired_id, to = xx$active_id,
warn_missing = FALSE)]
map_n_step[, done:=ifelse(to == to_p, 1, 0)]
ratio <- map_n_step[, sum(done)]/dim(map_n_step)[1]
message('the ratio is ', ratio, '\n')
if(ratio_p == ratio) {
message('cycles might exist in the directed graph, \n')
break;
}
ratio_p <- ratio
}
map_n_step
map_one_step
map_n_step
map_infty_step <- map_n_step[, .(retired_id = from, active_id = to, status = done)]
map_infty_step
library(cm)
library(cm)
map_one_step <- data.table(retired_id = c('A','B','C', 'E'), active_id = c('B','C','D','F'))
map_infty_step <- find_map_infty_step(map_one_step)
map_infty_step
map_one_step <- data.table(retired_id = c('A','B','C', 'E'), active_id = c('B','C','D','F'))
map_infty_step <- cm::find_map_infty_step(map_one_step)
library(cm)
one_step_map <- data.table(retired_id = c('A','B','C', 'E'), active_id = c('B','C','D','F')) map_infty_step <- find_infty_step_map(one_step_map)
one_step_map <- data.table(retired_id = c('A','B','C', 'E'), active_id = c('B','C','D','F')) map_infty_step <- find_infty_step_map(one_step_map)
one_step_map <- data.table(retired_id = c('A','B','C', 'E'), active_id = c('B','C','D','F'))
map_infty_step <- cm::find_infty_step_map(one_step_map)
map_infty_step <- cm::find_infty_step_map(one_step_map)
one_step_map <- data.table(retired_id = c('A','B','C', 'E'), active_id = c('B','C','D','F'))
xx <- map_one_step[retired_id != active_id]
map_n_step <- xx[, .(from = retired_id, to_p = 'ZzZzZzZ', to = active_id)]
map_n_step[, done:=ifelse(to == to_p, 1, 0)]
map_n_step[, step:= 0]
ratio <- map_n_step[, sum(done)]/dim(map_n_step)[1]
ratio_p <- -1
map_n_step
xx <- map_one_step[retired_id != active_id]
map_n_step <- xx[, .(from = retired_id, to_p = 'ZzZzZzZ', to = active_id)]
map_n_step[, done:=ifelse(to == to_p, 1, 0)]
map_n_step[, step:= 1]
ratio <- map_n_step[, sum(done)]/dim(map_n_step)[1]
ratio_p <- -1
map_n_step
while(ratio < 1){
map_n_step[, to_p := to]
map_n_step[done == 0, to:=plyr::mapvalues(map_n_step[done==0, to], from = xx$retired_id, to = xx$active_id,
warn_missing = FALSE)]
map_n_step[, done:=ifelse(to == to_p, 1, 0)] #1: no change
map_n_step[, step:=step + 1 - done]
ratio <- map_n_step[, sum(done)]/dim(map_n_step)[1]
message('the ratio is ', ratio, '\n')
if(ratio_p == ratio) {
message('cycles might exist in the directed graph, \n')
break;
}
ratio_p <- ratio
}
map_n_step
library(cm)
one_step_map <- data.table(retired_id = c('A','B','C', 'E'), active_id = c('B','C','D','F'))
cm::map_infty_step <- find_infty_step_map(one_step_map)
map_infty_step <- cm::find_infty_step_map(one_step_map)
map_infty_step
